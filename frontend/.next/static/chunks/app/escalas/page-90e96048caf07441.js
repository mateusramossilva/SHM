(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{2248:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(5155),r=t(2115);let l="https://SEU-BACKEND.up.railway.app";function n(){let[e,a]=(0,r.useState)([]),[t,n]=(0,r.useState)(!1),[c,i]=(0,r.useState)(""),[o,d]=(0,r.useState)(!1),x=async()=>{try{let e=await fetch("".concat(l,"/automation/escalas")),t=await e.json();Array.isArray(t)&&a(t)}catch(e){console.error("Erro ao carregar escalas",e)}};(0,r.useEffect)(()=>{x()},[]);let p=async()=>{if(!c)return alert("Digite o nome da empresa");d(!0);try{(await fetch("".concat(l,"/automation/escalas"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({empresa:c,origem:"",destino:""})})).ok&&(i(""),n(!1),x())}catch(e){alert("Erro ao criar empresa no banco")}finally{d(!1)}};return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto py-12 px-8 font-sans text-[#1e293b]",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-black uppercase tracking-tighter",children:["SISTEMA ",(0,s.jsx)("span",{className:"text-[#0052FF]",children:"BACKOFFICE"})]}),(0,s.jsx)("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.3em]",children:"Gest\xe3o de Mapeamento de Escalas"})]}),(0,s.jsx)("button",{onClick:()=>n(!0),className:"bg-[#0052FF] text-white px-8 py-4 rounded-2xl font-bold text-[10px] uppercase tracking-widest hover:shadow-xl hover:shadow-blue-200 transition-all",children:"+ Cadastrar Empresa"})]}),(0,s.jsx)("div",{className:"bg-white border border-gray-100 rounded-[2.5rem] shadow-sm overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[(0,s.jsx)("th",{className:"p-6 text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Empresa Registrada"}),(0,s.jsx)("th",{className:"p-6 text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"De (Origem)"}),(0,s.jsx)("th",{className:"p-6 text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Para (Destino)"}),(0,s.jsx)("th",{className:"p-6 text-[10px] font-black uppercase text-gray-400 tracking-widest text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-gray-50/30 transition-all",children:[(0,s.jsx)("td",{className:"p-6 font-bold text-lg",children:e.empresa}),(0,s.jsx)("td",{className:"p-6",children:e.origem?(0,s.jsx)("span",{className:"bg-blue-50 text-[#0052FF] px-3 py-1 rounded-lg font-bold text-xs",children:e.origem}):(0,s.jsx)("span",{className:"text-gray-300 italic text-xs",children:"Pendente"})}),(0,s.jsx)("td",{className:"p-6",children:e.destino?(0,s.jsx)("span",{className:"bg-green-50 text-green-600 px-3 py-1 rounded-lg font-bold text-xs",children:e.destino}):(0,s.jsx)("span",{className:"text-gray-300 italic text-xs",children:"Pendente"})}),(0,s.jsx)("td",{className:"p-6 text-right",children:(0,s.jsx)("button",{className:"text-[10px] font-black uppercase text-gray-400 hover:text-[#0052FF] transition-all",children:"Configurar Mapa"})})]},e.id))})]})}),t&&(0,s.jsx)("div",{className:"fixed inset-0 bg-[#1e293b]/80 backdrop-blur-md flex items-center justify-center z-50 p-6",children:(0,s.jsxs)("div",{className:"bg-white w-full max-w-md rounded-[3rem] shadow-2xl p-10 animate-in fade-in zoom-in duration-200",children:[(0,s.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tighter mb-1",children:"Nova Empresa"}),(0,s.jsx)("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Registre o nome no banco de dados"}),(0,s.jsxs)("div",{className:"mb-10",children:[(0,s.jsx)("label",{className:"text-[10px] font-black uppercase text-[#0052FF] block mb-3 ml-2",children:"Nome Comercial"}),(0,s.jsx)("input",{autoFocus:!0,type:"text",value:c,onChange:e=>i(e.target.value),placeholder:"EX: ALEEVIA",className:"w-full p-5 bg-gray-50 border-2 border-transparent focus:border-[#0052FF] rounded-3xl outline-none font-bold text-xl transition-all",onKeyDown:e=>"Enter"===e.key&&p()})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("button",{onClick:p,disabled:o,className:"w-full py-5 bg-[#0052FF] text-white rounded-2xl font-bold text-xs uppercase tracking-[0.2em] shadow-lg shadow-blue-100 disabled:bg-gray-200",children:o?"Salvando...":"Finalizar Cadastro"}),(0,s.jsx)("button",{onClick:()=>n(!1),className:"w-full py-4 text-[10px] font-black uppercase text-gray-400 hover:text-red-500 transition-all",children:"Descartar"})]})]})})]})}},5803:(e,a,t)=>{Promise.resolve().then(t.bind(t,2248))}},e=>{e.O(0,[441,255,358],()=>e(e.s=5803)),_N_E=e.O()}]);